<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Inbox</title>
    <link rel="stylesheet" th:href="@{/css/messages.css}">
</head>
<body>
<header>
    <h1>Inbox</h1>
    <a href="/dashboard" class="nav-btn">Home</a>
    <a href="/logout" class="nav-btn">Logout</a>
</header>

<h2>Your Conversations</h2>
<ul>
    <!-- If logged-in user is a faculty, show past conversations -->
    <li th:each="user : ${chatUsers}" th:if="${role == 'FACULTY'}">
        <a th:href="@{/messages/chat/{email}(email=${user})}" th:text="${user}"></a>
    </li>

    <!-- If logged-in user is a student, show faculty list -->
    <li th:each="faculty : ${facultyList}" th:if="${role == 'STUDENT'}">
        <a th:href="@{/messages/chat/{email}(email=${faculty.email})}" th:text="${faculty.name}"></a>
    </li>
</ul>
</body>
</html>